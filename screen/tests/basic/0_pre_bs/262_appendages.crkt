%%TEST%%
appendages
%%ARGS%%
%%FILE%%
class A {
    int i;
    oper init(int i) : i = i {}
    void put() {
        printint(i);
        puts('');
    }
}

class B = A {
    void foo() {
        puts('B.foo()');
        put();
    }
}

# This constructor should be a no-op.
b := B(A(100));
b.foo();

class C = A {
    void bar() {
        puts('C.bar()'); put();
    }
}

class D = B, C {}

d := D.unsafeCast(A(200));
d.foo();
d.bar();

%%EXPECT%%
B.foo()
100
B.foo()
200
C.bar()
200
%%STDIN%%
